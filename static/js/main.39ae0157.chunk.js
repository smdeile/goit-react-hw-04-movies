(this["webpackJsonpgoit-react-hw-04-movies"]=this["webpackJsonpgoit-react-hw-04-movies"]||[]).push([[0],{34:function(e,t,n){e.exports=n(63)},62:function(e,t,n){},63:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(30),o=n.n(c),l=n(7),u=n(8),i=n(9),s=n(10),m=n(12),p=n(33),v=n(5),h=n.n(v),f=n(14),d=n(15),E=n.n(d),b="38bb43799c173bf75633ed2786933102",g=function(){var e=Object(f.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.get("https://api.themoviedb.org/3/trending/all/day?api_key=".concat(b));case 2:return t=e.sent,e.abrupt("return",t.data.results);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),y=function(){var e=Object(f.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.get("https://api.themoviedb.org/3/search/company?api_key=".concat(b,"&query=").concat(t,"&page=1"));case 2:return n=e.sent,e.abrupt("return",n.data.results);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),k=function(){var e=Object(f.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.get("https://api.themoviedb.org/3/movie/".concat(t,"?api_key=").concat(b,"&language=en-US"));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=function(){var e=Object(f.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.get("https://api.themoviedb.org/3/movie/".concat(t,"/credits?api_key=").concat(b));case 2:return n=e.sent,e.abrupt("return",n.data.cast);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),O=function(){var e=Object(f.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.get("https://api.themoviedb.org/3/movie/".concat(t,"?api_key=").concat(b,"&language=en-US"));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),j=function(){var e=Object(f.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.get("https://api.themoviedb.org/3/movie/".concat(t,"/reviews?api_key=").concat(b,"&language=en-US&page=1"));case 2:return n=e.sent,e.abrupt("return",n.data.results);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=n(2),x=function(e){var t=e.movies,n=void 0===t?[]:t;return r.a.createElement("ul",null,console.log(n),n.map((function(e){return e.title&&r.a.createElement("li",{key:e.id},r.a.createElement(S.b,{to:"/movies/".concat(e.id)},e.title))})))},C=function(e){Object(s.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={query:"",movies:[]},e.handleSubmit=function(t){t.preventDefault();var n=e.state.query;e.fetchMovie(n),console.log(e.props),console.log(e.props.location),e.props.history.push(Object(p.a)({},e.props.location,{search:"?query=".concat(n)})),e.setState({query:""})},e.handleChange=function(t){var n=t.target;e.setState({query:n.value})},e.fetchMovie=function(t){y(t).then((function(t){return e.setState({movies:t})})),console.log(e.state)},e}return Object(u.a)(n,[{key:"componentDidUpdate",value:function(e,t){console.log(this.props)}},{key:"render",value:function(){var e=this.state.movies;return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("input",{onChange:this.handleChange,placeholder:"Find your movie",type:"text",name:"query",value:this.state.query}),r.a.createElement("button",null,"Find")),this.state.movies.length>0&&r.a.createElement("ul",null,e.map((function(e){return r.a.createElement("li",{key:e.id},r.a.createElement(S.b,{to:"/movies/".concat(e.id)},e.name))}))))}}]),n}(a.Component),_=function(e){Object(s.a)(n,e);var t=Object(i.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return console.log(this.props),r.a.createElement("div",null,r.a.createElement(m.a,{path:"/movies",component:C}))}}]),n}(a.Component),q=function(e){Object(s.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={movies:[]},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=this;g().then((function(t){e.setState({movies:t})}))}},{key:"render",value:function(){var e=this.state.movies;return r.a.createElement("div",null,r.a.createElement("h1",null,"Trending today"),r.a.createElement(x,{movies:e}))}}]),n}(a.Component),D=function(e){Object(s.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={movie:null,actors:null,fullInfo:null,reviews:null},e.handleClick=function(t){t.preventDefault(),console.log(e.props)},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.id;console.log(this.props),k(t).then((function(t){return e.setState({movie:t})})),w(t).then((function(t){return e.setState({actors:t})})),O(t).then((function(t){return e.setState({fullInfo:t})})),j(t).then((function(t){return e.setState({reviews:t})}))}},{key:"render",value:function(){var e={color:"red"},t=this.state,n=t.movie,a=t.actors,c=(t.fullInfo,t.reviews);return r.a.createElement("div",null,n&&c&&a&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement("button",{onClick:this.handleClick},"Go back"),r.a.createElement("img",{src:"https://image.tmdb.org/t/p/w300/".concat(n.poster_path),alt:n.title})),r.a.createElement("div",null,r.a.createElement("h2",null,n.title),r.a.createElement("p",null,"User score ",10*n.vote_average+"%"),r.a.createElement("h3",null,"Overview "),r.a.createElement("p",null,n.overview),r.a.createElement("h4",null,"Genres"),r.a.createElement("ul",null,n.genres.map((function(e){return r.a.createElement("li",{key:e.id},e.name)}))),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(S.b,{to:"/movies/".concat(n.id,"/cast"),activeStyle:e},"Cast")),r.a.createElement("li",null,r.a.createElement(S.b,{to:"/movies/".concat(n.id,"/reviews"),activeStyle:e},"Reviews")))),r.a.createElement(m.c,null,r.a.createElement(m.a,{path:"/movies/:id/cast",component:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("ul",null,a.map((function(e){return r.a.createElement("li",{key:e.id},e.profile_path&&r.a.createElement("img",{src:"https://image.tmdb.org/t/p/w300/".concat(e.profile_path),alt:"actors photo",width:"50px"}),r.a.createElement("p",null,e.name),r.a.createElement("p",null,"Character: ".concat(e.character)))}))))}}),r.a.createElement(m.a,{path:"/movies/:id/reviews",component:function(){return r.a.createElement("ul",null,c.map((function(e){return r.a.createElement("li",{key:e.id},r.a.createElement("h2",null,e.author),r.a.createElement("p",null,e.content))})))}}))))}}]),n}(a.Component),M=function(){return r.a.createElement("div",null,r.a.createElement("p",null,"page not found"))},U={color:"red"},F=function(){return r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(S.b,{to:"/",exact:!0,activeStyle:U},"Home")),r.a.createElement("li",null,r.a.createElement(S.b,{to:"/movies",activeStyle:U},"Movies")))},I=function(e){Object(s.a)(n,e);var t=Object(i.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(F,null),r.a.createElement(m.c,null,r.a.createElement(m.a,{path:"/",exact:!0,component:q}),r.a.createElement(m.a,{path:"/movies/:id",component:D}),r.a.createElement(m.a,{path:"/movies",component:_}),r.a.createElement(m.a,{component:M})))}}]),n}(a.Component);n(62);o.a.render(r.a.createElement(S.a,null,r.a.createElement(m.a,{component:I})),document.getElementById("root"))}},[[34,1,2]]]);
//# sourceMappingURL=main.39ae0157.chunk.js.map