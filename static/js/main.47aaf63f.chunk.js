(this["webpackJsonpgoit-react-hw-04-movies"]=this["webpackJsonpgoit-react-hw-04-movies"]||[]).push([[0],{33:function(e,t,n){e.exports=n(62)},61:function(e,t,n){},62:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(30),o=n.n(c),l=n(5),u=n(6),i=n(7),s=n(8),m=n(12),p=n(4),v=n.n(p),h=n(14),f=n(15),d=n.n(f),E="38bb43799c173bf75633ed2786933102",b=function(){var e=Object(h.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.get("https://api.themoviedb.org/3/trending/all/day?api_key=".concat(E));case 2:return t=e.sent,e.abrupt("return",t.data.results);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),g=function(){var e=Object(h.a)(v.a.mark((function e(t){var n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.get("https://api.themoviedb.org/3/search/company?api_key=".concat(E,"&query=").concat(t,"&page=1"));case 2:return n=e.sent,e.abrupt("return",n.data.results);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y=function(){var e=Object(h.a)(v.a.mark((function e(t){var n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.next=3,d.a.get("https://api.themoviedb.org/3/movie/".concat(t,"?api_key=").concat(E,"&language=en-US"));case 3:return n=e.sent,console.log(n.data),e.abrupt("return",n.data);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=function(){var e=Object(h.a)(v.a.mark((function e(t){var n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.get("https://api.themoviedb.org/3/movie/".concat(t,"/credits?api_key=").concat(E));case 2:return n=e.sent,console.log(n.data.cast),e.abrupt("return",n.data.cast);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),O=function(){var e=Object(h.a)(v.a.mark((function e(t){var n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.get("https://api.themoviedb.org/3/movie/".concat(t,"?api_key=").concat(E,"&language=en-US"));case 2:return n=e.sent,console.log(n),e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),j=function(){var e=Object(h.a)(v.a.mark((function e(t){var n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.get("https://api.themoviedb.org/3/movie/".concat(t,"/reviews?api_key=").concat(E,"&language=en-US&page=1"));case 2:return n=e.sent,console.log(n.data),e.abrupt("return",n.data.results);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),k=n(10),S=function(e){var t=e.movies,n=void 0===t?[]:t;return r.a.createElement("ul",null,n.map((function(e){return e.title&&r.a.createElement("li",{key:e.id},r.a.createElement(k.b,{to:"/movies/".concat(e.id)},e.title))})))},x=function(e){Object(s.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={query:"",movies:[]},e.handleSubmit=function(t){t.preventDefault();var n=e.state.query;e.fetchMovie(n),e.setState({query:""})},e.handleChange=function(t){var n=t.target;e.setState({query:n.value})},e.fetchMovie=function(t){g(t).then((function(t){return e.setState({movies:t})})),console.log(e.state)},e}return Object(u.a)(n,[{key:"componentDidUpdate",value:function(e,t){console.log(this.state)}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("input",{onChange:this.handleChange,placeholder:"Find your movie",type:"text",name:"query",value:this.state.query}),r.a.createElement("button",null,"Find")),console.log(this.state.movies.length)&&this.state.movies.length>0&&r.a.createElement(S,{items:this.state}))}}]),n}(a.Component),C=function(e){Object(s.a)(n,e);var t=Object(i.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return console.log(this.props),r.a.createElement("div",null,r.a.createElement(x,{props:this.props}))}}]),n}(a.Component),_=function(e){Object(s.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={movies:[]},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=this;b().then((function(t){e.setState({movies:t})}))}},{key:"render",value:function(){var e=this.state.movies;return r.a.createElement("div",null,r.a.createElement("h1",null,"Trending today"),r.a.createElement(S,{movies:e}))}}]),n}(a.Component),q=function(e){Object(s.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={},e}return Object(u.a)(n,[{key:"render",value:function(){var e=this.props,t=e.movie,n=e.actors,a=e.reviews,c={color:"red"};return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("img",{src:"https://image.tmdb.org/t/p/w300/".concat(t.poster_path),alt:t.title})),r.a.createElement("div",null,r.a.createElement("h2",null,t.title),r.a.createElement("p",null,"User score ",10*t.vote_average+"%"),r.a.createElement("h3",null,"Overview "),r.a.createElement("p",null,t.overview),r.a.createElement("h4",null,"Genres"),r.a.createElement("ul",null,t.genres.map((function(e){return r.a.createElement("li",{key:e.id},e.name)}))),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(k.b,{to:"/movies/".concat(t.id,"/cast"),activeStyle:c},"Cast")),r.a.createElement("li",null,r.a.createElement(k.b,{to:"/movies/".concat(t.id,"/reviews"),activeStyle:c},"Reviews")))),r.a.createElement(m.c,null,r.a.createElement(m.a,{path:"/movies/:id/cast",component:function(){return r.a.createElement("ul",null,n.map((function(e){return r.a.createElement("li",{key:e.id},e.profile_path&&r.a.createElement("img",{src:"https://image.tmdb.org/t/p/w300/".concat(e.profile_path),alt:"actors photo",width:"50px"}),r.a.createElement("p",null,e.name),r.a.createElement("p",null,"Character: ".concat(e.character)))})))}}),r.a.createElement(m.a,{path:"/movies/:id/reviews",component:function(){return r.a.createElement("ul",null,a.map((function(e){return r.a.createElement("li",{key:e.id},r.a.createElement("h2",null,e.author),r.a.createElement("p",null,e.content))})))}})))}}]),n}(a.Component),I=function(e){Object(s.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={movie:null,actors:null,fullInfo:null,reviews:null},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.id;y(t).then((function(t){return e.setState({movie:t})})),w(t).then((function(t){return e.setState({actors:t})})),O(t).then((function(t){return e.setState({fullInfo:t})})),j(t).then((function(t){return e.setState({reviews:t})}))}},{key:"render",value:function(){console.log(this.state);var e=this.state,t=e.movie,n=e.actors,a=e.fullInfo,c=e.reviews;return console.log(c),r.a.createElement("div",null,t&&n&&a&&c&&r.a.createElement("div",null,r.a.createElement(q,{movie:t,actors:n,fullInfo:a,reviews:c})))}}]),n}(a.Component),M=function(){return r.a.createElement("div",null,r.a.createElement("p",null,"page not found"))},U={color:"red"},A=function(){return r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(k.b,{to:"/",exact:!0,activeStyle:U},"Home")),r.a.createElement("li",null,r.a.createElement(k.b,{to:"/movies",activeStyle:U},"Movies")))},D=function(e){Object(s.a)(n,e);var t=Object(i.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(A,null),r.a.createElement(m.c,null,r.a.createElement(m.a,{path:"/",exact:!0,component:_}),r.a.createElement(m.a,{path:"/movies/:id",component:I}),r.a.createElement(m.a,{path:"/movies",component:C}),r.a.createElement(m.a,{component:M})))}}]),n}(a.Component);n(61);o.a.render(r.a.createElement(k.a,null,r.a.createElement(m.a,{component:D})),document.getElementById("root"))}},[[33,1,2]]]);
//# sourceMappingURL=main.47aaf63f.chunk.js.map